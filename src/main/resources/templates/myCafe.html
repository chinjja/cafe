<html layout:decorate="~{layouts/navLayout}">
	<div layout:fragment="content" class="row g-4">
		<div class="col-12 col-md-6">
			<div class="d-flex justify-content-between align-items-start">
				<h1 th:text="#{cafe.myCafe}"></h1>
				<a class="btn btn-primary btn-lg" role="button" th:href="@{/create-cafe}" th:text="#{cafe.newCafe}"></a>
			</div>
			<div class="row g-2" th:if="${user != null}">
				<div class="col-12 col-xl-6" th:each="cafe : ${user.cafes}">
					<div th:replace="fragments/cafe(${cafe})"></div>
				</div>
			</div>
		</div>
		<div class="col-12 col-md-6">
			<h1>가입 신청중</h1>
			<table class="table table-bordered">
				<thead>
					<tr>
						<th>카페이름</th>
						<th>유저이름</th>
						<th>인사말</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="member : ${notApprovedMemberList}">
						<td>
							<div th:replace="links/cafe(${member.id.cafe}, null)"></div>
						</td>
						<td>
							<div th:replace="links/user(${member.id.member}, null)"></div>
						</td>
						<td th:text="${member.greeting}"></td>
						<td class="p-0">
							<a class="btn btn-primary w-100" th:href="@{/approve-member(cafeId=${member.id.cafe.id},memberId=${member.id.member.id})}">승인</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="col-12 col-md-6">
			<h1 th:text="#{cafe.memberCafe}"></h1>
			<div class="row g-2" th:if="${user != null}">
				<div class="col-12 col-xl-6" th:each="cafe : ${user.joinedCafes}">
					<div th:replace="fragments/cafe(${cafe.id.cafe})"></div>
				</div>
			</div>
		</div>
	</div>
</html>